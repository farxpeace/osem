<?php $this->load->view('includes/tfpay_header'); ?><style>    .hr-text {        line-height: 1em;        position: relative;        outline: 0;        border: 0;        color: transparent;        text-align: center;        height: 1.5em !important;        opacity: 0.5 !important;    }    .hr-text:before {        content: "";        background: linear-gradient(to right, transparent, #818078, transparent);        position: absolute;        left: 0;        top: 50%;        width: 100%;        height: 1px !important;    }    .hr-text:after {        content: attr(data-content);        position: relative;        display: inline-block;        color: black !important;        padding: 0 0.5em;        line-height: 1.5em;        color: #818078 !important;        background-color: #fcfcfa !important;    }</style><div class="header">    <div class="tf-container">        <div class="tf-statusbar d-flex justify-content-center align-items-center">            <a href="#" class="back-btn"> <i class="icon-left"></i> </a>            <h3>Profile</h3>        </div>    </div></div><div id="app-wrap">    <div class="mt-3">        <div class="tf-container">            <div class="tf-form">                <div class="group-input">                    <label>Fullname as per MyKad</label>                    <input class="uppercase_only" type="text" placeholder="Tony" id="fullname" value="<?php echo $logged_in['user_profile']['fullname']; ?>">                </div>                <div class="group-input">                    <label>MyKad Number</label>                    <input type="text" placeholder="861112235811" id="nric_number" value="<?php echo $logged_in['user_profile']['nric_number']; ?>">                </div>                <div class="group-input">                    <label>Email</label>                    <input type="text" placeholder="me@crm.qtic.my" id="email" value="<?php echo $logged_in['user_profile']['email']; ?>">                </div>                <hr class="hr-text" data-content="BANK INFORMATION">                <div class="group-input">                    <label>Bank Name</label>                    <select class="form-control" id="bank_name">                        <?php foreach($this->far_meta->values_array('bank_list') as $a => $b){ ?>                            <option value="<?php echo strtoupper($b); ?>" <?php if(strtoupper($logged_in['bank_name'] ?? "") == strtoupper($b)){ echo 'selected=""'; } ?>><?php echo strtoupper($b); ?></option>                        <?php } ?>                    </select>                </div>                <div class="group-input">                    <label>Bank Account Name</label>                    <input type="text" placeholder="" id="bank_account_name" value="<?php echo $logged_in['bank_account_name']; ?>">                </div>                <div class="group-input">                    <label>Bank Account Number</label>                    <input type="text" id="bank_account_number" value="<?php echo $logged_in['bank_account_number']; ?>">                </div>                <div class="group-btn-change-name" style="margin-bottom: 100px;">                    <a href="javascript: void(0);" onclick="javascript: btn_click_submit_update_profile();" class="tf-btn accent large">Save</a>                </div>            </div>        </div>    </div></div><?php $this->load->view('includes/tfpay_bottom_navigation_bar'); ?><?php $this->load->view('includes/tfpay_footer'); ?><script>    $(function(){        $('.uppercase_only').keyup(function() {            this.value = this.value.toLocaleUpperCase();        });    });</script><script></script><script>    function btn_click_submit_update_profile(){        var fullname = $("#fullname").val();        var nric_number = $("#nric_number").val();        var email = $("#email").val();        $.ajax({            url: '<?php echo base_url(); ?>profile/user_ajax_update_profile',            type: "POST",            dataType: "JSON",            data: {                postdata: {                    fullname: fullname,                    nric_number: nric_number,                    email: email,                    bank_name: $("#bank_name").val(),                    bank_account_name: $("#bank_account_name").val(),                    bank_account_number: $("#bank_account_number").val()                }            },            success: function(data){                if(data.status == "success"){                    Swal.fire({                        title: 'Success',                        text: "Profile updated",                        icon: 'success',                        showCancelButton: false,                        confirmButtonText: 'Ok!'                    }).then((result) => {                        if (result.isConfirmed) {                            history.back();                        }                    })                }else{                    unblockUI();                    var eell = data.errors;                    $.each(eell, function(i,j){                        var el_on_page = $("#"+i).length;                        if (el_on_page){                            $("#"+i).closest('.form-group').addClass('has-error');                            $("#"+i).closest('.form-group').find('.error_message').text(j).show();                        } else {                        }                        Swal.fire({                            icon: 'error',                            title: 'Oops...',                            text: j,                        })                    })                }            }        })    }</script>