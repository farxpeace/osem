<?php $this->load->view('includes/tfpay_header'); ?><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.1.0/css/intlTelInput.css"><style>    .iti-flag {background-image: url("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.1.0/img/flags.png");}    @media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2 / 1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {        .iti-flag {background-image: url("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.1.0/img/flags@2x.png");}    }    .intl-tel-input {        width: 100% !important;    }</style><div class="boarding-section" style="background-color: #181b21">    <div class="tf-container">        <div class="images" style="text-align: center;">            <img src="<?php echo base_url(); ?>assets/barapp/logo/logo-black-600x200.png?asd=asd" alt="image" style="width: 80%; height: auto">        </div>    </div></div><div class="mt-7 login-section">    <div class="tf-container">        <div class="tf-form">            <h1>Login</h1>            <div class="group-input form-group">                <input type="text" placeholder="Username" id="login_email">                <span class="help-block error_message" style="display: none;"></span>            </div>            <div class="group-input form-group">                <input type="password" placeholder="Password" id="login_password">                <span class="help-block error_message" style="display: none;"></span>            </div>            <?php if($this->far_helper->server() == 'dev'){ ?>            <div class="group-input form-group">                <select class="form-control" id="autologin" onchange="javascript: onchange_autologin();">                    <option>Auto Login for testing <?php echo $this->far_helper->server(); ?></option>                    <optgroup label="Staff">                        <?php $query = $this->db->query("SELECT u.uacc_id,u.uacc_username,u.uacc_raw_password,u.fullname FROM view_user_list u WHERE u.uacc_group_fk='6'"); ?>                        <?php foreach($query->result_array() as $a => $b){ ?>                            <option value="<?php echo $b['uacc_id'] ?>" data-uacc_username="<?php echo $b['uacc_username'] ?>" data-uacc_raw_password="<?php echo $b['uacc_raw_password']; ?>"><?php echo $b['fullname'] ?> (<?php echo $b['uacc_username'] ?>)</option>                        <?php } ?>                    </optgroup>                </select>            </div>            <?php } ?>            <div class="group-input">                <button type="button" onclick="javascript: btn_click_login();" class="tf-btn accent large">Login</button>            </div>        </div>    </div></div><?php $this->load->view('includes/tfpay_footer'); ?><script src="//cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.1.0/js/intlTelInput.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.1.0/js/utils.js"></script><script>    $(function(){        setTimeout(function(){            console.log("Settime Out")            unblockUI();        }, 2000);    })</script><script>    function btn_click_login(){        var error_el;        $("#tab_login .has-error").removeClass('has-error');        $("#tab_login .error_message").hide();        var email = $("#login_email").val();        var password = $("#login_password").val();        //check fullname        if (email === false){            $("#login_email").closest('.form-group').addClass('has-error');            $("#login_email").closest('.form-group').find('.error_message').text("Please fill-in email address").show(); return false        }        if (email === "") {            $("#login_email").closest('.form-group').addClass('has-error');            $("#login_email").closest('.form-group').find('.error_message').text("Please fill-in email address").show(); return false        }        if (password === false){            $("#login_password").closest('.form-group').addClass('has-error');            $("#login_password").closest('.form-group').find('.error_message').text("Password cannot be blank").show(); return false        }        if (password === "") {            $("#login_password").closest('.form-group').addClass('has-error');            $("#login_password").closest('.form-group').find('.error_message').text("Password cannot be blank").show(); return false        }        blockUI();        $.ajax({            url: '<?php echo base_url(); ?>auth/login_via_ajax',            type: 'POST',            data: {                login_identity: email,                login_password: password,                remember_me: 1,                login_user: 'Submit'            },            success: function(data){                if(data){                    window.location.replace("<?php echo base_url(); ?>auth_admin/dashboard");                }else{                    Swal.fire({                        title: "Error!",                        text: "Username or Password did not match. Please try again",                        icon: "error"                    });                    unblockUI();                }            }        });    }</script><script>    function onchange_autologin(){        var uacc_username = $("#autologin option:selected").data('uacc_username');        var uacc_raw_password = $("#autologin option:selected").data('uacc_raw_password');        $("#login_email").val(uacc_username);        $("#login_password").val(uacc_raw_password);        btn_click_login();    }</script>